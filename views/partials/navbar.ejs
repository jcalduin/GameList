<!-- Barra de navegación -->
<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top shadow-lg">

    <div class="container">

        <a href="/" class="navbar-brand fw-bold d-flex align-items-center">
            <i class="bi bi-controller me-2 fs-2"></i>GameList
        </a>

        <% if (!isLoggedIn) { %>

            <ul class="navbar-nav mx-auto mb-2 mb-md-0 d-none d-md-flex">
                <li class="nav-item">
                    <a href="#" class="nav-link active">Inicio</a>
                </li>
                <li class="nav-item">
                    <a href="#caracteristicas" class="nav-link">Características</a>
                </li>
                <li class="nav-item">
                    <a href="#como-empezar" class="nav-link">Cómo Funciona</a>
                </li>
            </ul>
            
        <% } %>

        <div class="d-flex flex-row gap-2 align-items-center">

            <% if (!isLoggedIn) { %>
            
                <button class="btn btn-outline-light px-4 me-3 me-sm-0" data-bs-toggle="modal" data-bs-target="#loginModal"><i class="bi bi-box-arrow-in-right me-1"></i>login</button>
                <a href="/registro" class="btn btn-secondary px-4 d-none d-sm-inline-block">Regístrate</a>

            <% } else { %>

                <a href="/perfil" class="nav-link text-light d-flex align-items-center fs-4">
                    <span class="me-2 d-none d-sm-inline"><%= user.nickname %></span>
                    <i class="bi bi-person-circle me-2"></i>
                </a>
                <a href="/logout" class="btn btn-outline-danger px-4 me-3 me-sm-0">
                    <i class="bi bi-box-arrow-right me-1"></i>
                    <span class="d-none d-sm-inline">Logout</span>
                </a>

            <% } %>
        </div>

    </div>

</nav>
<!-- Modal de login, colocado aquí para facilitar el acceso desde cualquier página -->
<div class="modal fade" id="loginModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-fullscreen-sm-down">

        <div class="modal-content border-0 shadow-lg rounded-4">

            <div class="modal-header border-0 pb-0">

                <h5 class="modal-title fw-bold">Acceso a GameList</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                
            </div>

            <div class="modal-body p-4">

                <form action="/login" method="POST">

                    <div class="form-floating mb-3">
                        <input type="email" name="email" id="floatingInput" class="form-control rounded-3" placeholder="Correo electrónico">
                        <label for="floatingInput">Correo Electrónico</label>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="password" name="password" id="floatingPassword" class="form-control rounded-3" placeholder="Contraseña">
                        <label for="floatingPassword">Contraseña</label>
                    </div>

                    <button type="submit" class="btn btn-primary btn-lg w-100 px-3 rounded-3">Iniciar sesión</button>

                </form>

            </div>

            <div class="modal-footer border-0 justify-content-center">

                <p class="text-muted small">¿No tienes cuenta? 
                    <a href="/registro" class="text-primary fw-bold text-decoration-none">Regístrate aquí</a>
                </p>

            </div>

        </div>

    </div>
</div>